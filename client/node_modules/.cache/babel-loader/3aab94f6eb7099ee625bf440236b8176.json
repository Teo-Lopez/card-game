{"ast":null,"code":"var _jsxFileName = \"/home/teo/Documentos/Projectos/card-game/client/src/components/auth/Login.jsx\";\nimport React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthService } from \"../../utils/services/Auth.service\";\nconst authService = new AuthService();\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\nexport default function Login(props) {\n  const classes = useStyles();\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userError, setUserError] = useState(true);\n  const [passError, setPassError] = useState(true);\n  const [submitDisabled, setSubmitDisabled] = useState(true);\n\n  const onChange = e => {\n    const {\n      name,\n      value\n    } = e.currentTarget;\n    console.log(e, name, value);\n    const regUser = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const regPass = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n\n    switch (name) {\n      case \"user\":\n        if (regUser.test(value)) {\n          setUserError(false);\n          setUser(value);\n        } else {\n          setUserError(true);\n        }\n\n        break;\n\n      case \"password\":\n        if (regPass.test(value)) {\n          setPassError(false);\n          setPassword(value);\n        } else {\n          setPassError(true);\n        }\n\n        break;\n    }\n\n    if (!userError && !passError) setSubmitDisabled(false);else setSubmitDisabled(true);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    authService.login({\n      user,\n      password\n    }).then(() => {\n      props.setUser(user);\n      props.history.push(\"/\");\n    });\n  };\n\n  return React.createElement(\"form\", {\n    className: classes.root,\n    noValidate: true,\n    autoComplete: \"on\",\n    onSubmit: onSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, React.createElement(TextField, {\n    onChange: onChange,\n    error: userError,\n    id: \"filled-error\",\n    label: \"user\",\n    name: \"user\",\n    defaultValue: \"E-mail\",\n    helperText: \"Incorrect entry.\",\n    variant: \"filled\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61\n    },\n    __self: this\n  }), React.createElement(TextField, {\n    onChange: onChange,\n    error: passError,\n    id: \"filled-error\",\n    label: \"password\",\n    name: \"password\",\n    defaultValue: \"Password\",\n    type: \"password\",\n    helperText: \"Incorrect entry.\",\n    variant: \"filled\",\n    required: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  })), React.createElement(\"button\", {\n    disabled: submitDisabled,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, \"Login\"));\n}","map":{"version":3,"sources":["/home/teo/Documentos/Projectos/card-game/client/src/components/auth/Login.jsx"],"names":["React","useState","TextField","makeStyles","AuthService","authService","useStyles","theme","root","margin","spacing","width","Login","props","classes","user","setUser","password","setPassword","userError","setUserError","passError","setPassError","submitDisabled","setSubmitDisabled","onChange","e","name","value","currentTarget","console","log","regUser","regPass","test","onSubmit","preventDefault","login","then","history","push"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport TextField from \"@material-ui/core/TextField\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { AuthService } from \"../../utils/services/Auth.service\";\nconst authService = new AuthService();\nconst useStyles = makeStyles(theme => ({\n  root: {\n    \"& .MuiTextField-root\": {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  }\n}));\n\nexport default function Login(props) {\n  const classes = useStyles();\n  const [user, setUser] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [userError, setUserError] = useState(true);\n  const [passError, setPassError] = useState(true);\n  const [submitDisabled, setSubmitDisabled] = useState(true);\n\n  const onChange = e => {\n    const { name, value } = e.currentTarget;\n    console.log(e, name, value);\n    const regUser = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    const regPass = /^(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}$/;\n    switch (name) {\n      case \"user\":\n        if (regUser.test(value)) {\n          setUserError(false);\n          setUser(value);\n        } else {\n          setUserError(true);\n        }\n        break;\n      case \"password\":\n        if (regPass.test(value)) {\n          setPassError(false);\n          setPassword(value);\n        } else {\n          setPassError(true);\n        }\n        break;\n    }\n\n    if (!userError && !passError) setSubmitDisabled(false);\n    else setSubmitDisabled(true);\n  };\n\n  const onSubmit = e => {\n    e.preventDefault();\n    authService.login({ user, password }).then(() => {\n      props.setUser(user);\n      props.history.push(\"/\");\n    });\n  };\n  return (\n    <form className={classes.root} noValidate autoComplete=\"on\" onSubmit={onSubmit}>\n      <div>\n        <TextField\n          onChange={onChange}\n          error={userError}\n          id=\"filled-error\"\n          label=\"user\"\n          name=\"user\"\n          defaultValue=\"E-mail\"\n          helperText=\"Incorrect entry.\"\n          variant=\"filled\"\n          required\n        />\n        <TextField\n          onChange={onChange}\n          error={passError}\n          id=\"filled-error\"\n          label=\"password\"\n          name=\"password\"\n          defaultValue=\"Password\"\n          type=\"password\"\n          helperText=\"Incorrect entry.\"\n          variant=\"filled\"\n          required\n        />\n      </div>\n      <button disabled={submitDisabled}>Login</button>\n    </form>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}