{"ast":null,"code":"var _jsxFileName = \"/home/teo/Documentos/Projectos/card-game/src/components/Board.jsx\";\nimport React, { useState } from \"react\";\nimport Card from \"./Card\";\nimport Slot from \"./Slot\";\nimport styled from \"styled-components\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport BoardSection from \"./BoardSection\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Midoriya, Leena, deck01 } from \"../utils/cards/Cards\";\nimport background from \"../assets/wood-bg.jpg\";\nimport Deck from \"./Deck\";\nconst BoardWrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background-color: whitesmoke;\n  background-image: url(${background});\n  background-size: cover;\n  display: flex;\n`;\n\nfunction Board() {\n  const [positions, setPositions] = useState([new Midoriya(), new Leena(), new Midoriya(), new Midoriya(), new Midoriya(), null, new Midoriya(), new Midoriya()]);\n  const [drawedCard, setDrawedCard] = useState(null);\n\n  const drawCard = async () => {\n    const randNum = Math.floor(Math.random() * deck01.length);\n    const drawedCard = deck01[randNum];\n    console.log(randNum, drawedCard);\n    removeCard(randNum, deck01);\n    await setDrawedCard(drawedCard);\n    console.log(deck01);\n  };\n\n  const removeCard = (idx, arr) => {\n    arr.splice(idx, 1);\n    return arr;\n  };\n\n  const playCard = async (idx = positions.indexOf(null)) => {\n    const positionsCopy = [...positions];\n    positionsCopy.splice(idx, 1, drawedCard);\n    await setPositions(positionsCopy);\n  };\n\n  const attack = (idx, newPos) => {\n    if (idx === newPos) return; // else if()\n\n    const positionsCopy = [...positions];\n    positionsCopy[idx].attack(positionsCopy[newPos]);\n    const newPositions = positionsCopy.map(elm => elm == null || elm.life <= 0 ? null : elm);\n    setPositions(newPositions);\n  };\n\n  const move = (idx, newPos) => {\n    if (idx === newPos) return;\n    const positionsCopy = [...positions];\n    positionsCopy.splice(newPos, 1, positionsCopy[idx]);\n    positionsCopy.splice(idx, 1, null);\n    setPositions(positionsCopy);\n  };\n\n  return React.createElement(DndProvider, {\n    backend: Backend,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, React.createElement(BoardWrapper, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }, React.createElement(Row, {\n    style: {\n      width: \"100%\"\n    },\n    noGutters: false,\n    className: \"justify-content-around\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, positions.map((elm, idx) => React.createElement(Col, {\n    md: 3,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, React.createElement(BoardSection, {\n    move: move,\n    attack: attack,\n    char: elm,\n    idx: idx,\n    key: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, elm != null ? React.createElement(Card, {\n    char: elm,\n    idx: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }) : React.createElement(Slot, {\n    empty: true,\n    idx: idx,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }))))), React.createElement(Deck, {\n    drawCard: drawCard,\n    playCard: playCard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  })));\n}\n\nexport default Board;","map":{"version":3,"sources":["/home/teo/Documentos/Projectos/card-game/src/components/Board.jsx"],"names":["React","useState","Card","Slot","styled","DndProvider","Backend","BoardSection","Container","Row","Col","Midoriya","Leena","deck01","background","Deck","BoardWrapper","div","Board","positions","setPositions","drawedCard","setDrawedCard","drawCard","randNum","Math","floor","random","length","console","log","removeCard","idx","arr","splice","playCard","indexOf","positionsCopy","attack","newPos","newPositions","map","elm","life","move","width"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport Card from \"./Card\";\nimport Slot from \"./Slot\";\nimport styled from \"styled-components\";\nimport { DndProvider } from \"react-dnd\";\nimport Backend from \"react-dnd-html5-backend\";\nimport BoardSection from \"./BoardSection\";\nimport { Container, Row, Col } from \"react-bootstrap\";\nimport { Midoriya, Leena, deck01 } from \"../utils/cards/Cards\";\nimport background from \"../assets/wood-bg.jpg\";\nimport Deck from \"./Deck\";\n\nconst BoardWrapper = styled.div`\n  width: 100%;\n  height: 100vh;\n  background-color: whitesmoke;\n  background-image: url(${background});\n  background-size: cover;\n  display: flex;\n`;\n\nfunction Board() {\n  const [positions, setPositions] = useState([\n    new Midoriya(),\n    new Leena(),\n    new Midoriya(),\n    new Midoriya(),\n    new Midoriya(),\n    null,\n    new Midoriya(),\n    new Midoriya()\n  ]);\n  const [drawedCard, setDrawedCard] = useState(null);\n\n  const drawCard = async () => {\n    const randNum = Math.floor(Math.random() * deck01.length);\n    const drawedCard = deck01[randNum];\n    console.log(randNum, drawedCard);\n    removeCard(randNum, deck01);\n    await setDrawedCard(drawedCard);\n    console.log(deck01);\n  };\n\n  const removeCard = (idx, arr) => {\n    arr.splice(idx, 1);\n    return arr;\n  };\n\n  const playCard = async (idx = positions.indexOf(null)) => {\n    const positionsCopy = [...positions];\n    positionsCopy.splice(idx, 1, drawedCard);\n    await setPositions(positionsCopy);\n  };\n\n  const attack = (idx, newPos) => {\n    if (idx === newPos) return;\n    // else if()\n    const positionsCopy = [...positions];\n    positionsCopy[idx].attack(positionsCopy[newPos]);\n    const newPositions = positionsCopy.map(elm => (elm == null || elm.life <= 0 ? null : elm));\n    setPositions(newPositions);\n  };\n\n  const move = (idx, newPos) => {\n    if (idx === newPos) return;\n    const positionsCopy = [...positions];\n    positionsCopy.splice(newPos, 1, positionsCopy[idx]);\n    positionsCopy.splice(idx, 1, null);\n\n    setPositions(positionsCopy);\n  };\n\n  return (\n    <DndProvider backend={Backend}>\n      <BoardWrapper>\n        <Row style={{ width: \"100%\" }} noGutters={false} className=\"justify-content-around\">\n          {positions.map((elm, idx) => (\n            <Col md={3}>\n              <BoardSection move={move} attack={attack} char={elm} idx={idx} key={idx}>\n                {elm != null ? <Card char={elm} idx={idx}></Card> : <Slot empty idx={idx}></Slot>}\n              </BoardSection>\n            </Col>\n          ))}\n        </Row>\n        <Deck drawCard={drawCard} playCard={playCard} />\n      </BoardWrapper>\n    </DndProvider>\n  );\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}